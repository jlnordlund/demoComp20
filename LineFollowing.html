<!DOCTYPE html>
<html>
<body>
<head> 
  <meta charset="UTF-8">
  <title>SwarmBot Remote Control</title>
  <link rel="stylesheet" type="text/css" href="GoBeyond.css">
</head>

<h2><a href="JuniorDesign.html" class="home">SwarmBot Web Control</a></h2>
<section>
    <div id="first">
      <p id="pOne">Control your bot or allow it to track lanes!</p>
    </div>
    <div>
      <nav>
        <a href="JuniorDesign.html" class="navLinks">Home</a>
        <a href="Remote.html" class="navLinks">Remote Control</a>
         <a href="LineFollowing.html" class="navLinks">Line Following</a>
      </nav>
    </div>
  </section>

<section>
    <div id="first">
      <p id = "pOne">Welcome to the Line Following mode!</p>
      <p id = "pOne">Your SwarmBot is able to follow black lines on the surface below it using our advanced sensing technology.</p>
      <p id = "pOne">Press the button below in order to enable Line Following mode and watch your bot speed through any path you draw for it!</p>
    </div>
  </section>


<div><button type="button" class = "lineButton" onclick="LineFollowing()">Enable Line Following</button>
     <button type="button" class = "disable" onclick="stop()">Disable Line Following</button>
</div>



<p id = "pOne">Approx 2s delay after button press</p>

<p id="timer"></p>

<script>
function LineFollowing() {
var xhttp = new XMLHttpRequest();
//posts from rebecca to jessica
xhttp.open("POST", "http://ee31.ece.tufts.edu/BA097D0A46F9/D9EDBC851B1E", true);
xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
xhttp.send("dir=5"); //message to post
timeIt();
}
function stop() {
var xhttp = new XMLHttpRequest();
//posts from rebecca to jessica
xhttp.open("POST", "http://ee31.ece.tufts.edu/BA097D0A46F9/D9EDBC851B1E", true);
xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
xhttp.send("dir=0"); //message to post
timeIt();
}
function timeIt() {
var timeleft = 2;
var downloadTimer = setInterval(function(){
if(timeleft <= 0){
clearInterval(downloadTimer);
document.getElementById("timer").innerHTML = "Finished";
} else {
document.getElementById("timer").innerHTML = timeleft + " seconds remaining";
}
timeleft -= 1;
}, 1000);
}
</script>

</body>
</html>
